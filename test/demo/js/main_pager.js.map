{"version":3,"sources":["webpack:///./dist/.tmp/static/main/main.js","webpack:///./dist/.tmp/modules/testPager/test.js","webpack:///../index.js","webpack:///../src/pager/pager.js","webpack:///../src/mask/mask.js","webpack:///../src/utils/truncate/truncate.js","webpack:///../src/utils/insert/insert2cursor.js","webpack:///../src/utils/clipboard/copy2clipboard.js"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;;AAEA;;AAEA;;;;;;;ACNA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA,E;;;;;;ACtBA;AACA;AACA,YAAW,QAAQ,OAAO,SAAS,OAAO,aAAa,KAAK,WAAW,KAAK,SAAS;AACrF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uGAAsG,qDAAqD,gEAAgE;AAC3N;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,sBAAqB,UAAU;AAC/B,sEAAqE,gBAAgB;AACrF;AACA,cAAa,4BAA4B;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,E;;;;;;AC/KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uCAAsC,YAAY,kBAAkB,OAAO,MAAM,gBAAgB,YAAY,yBAAyB,YAAY,8CAA8C,WAAW;;AAE3M;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B;AAC/B,yBAAwB;AACxB,eAAc;AACd,gBAAe;AACf,iCAAgC;AAChC,kBAAiB;AACjB,mBAAkB;AAClB,yDAAwD;AACxD,mBAAkB;AAClB,gBAAe;AACf,eAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,oBAAoB;AACvC;AACA,sBAAqB,oBAAoB;AACzC;AACA;AACA,wBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,oBAAmB,oCAAoC;AACvD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,E;;;;;;AClKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,E;;;;;;ACpDA;AACA;AACA;AACA;AACA;AACA,YAAW,KAAK;AAChB,YAAW,OAAO;AAClB;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,E;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,MAAK;AACL;AACA;;AAEA,kEAAiE;AACjE;AACA,sEAAqE;AACrE;AACA;AACA;AACA;AACA,gEAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,E","file":"js/main_pager.js","sourcesContent":["\n\nvar\n  \n  testModule = require('../../modules/testPager/test');\n\ntestModule.unitTest();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./dist/.tmp/static/main/main.js\n ** module id = 1\n ** module chunks = 0\n **/","var pager = require('../../../../../index').pager;\n\n\nfunction run() {\n  pager.init({\n    $el: $('#pager'),\n    btnInPage: 10,\n    itemInPage: 5,\n    onTurn: function (curPage) {\n      console.log(curPage);\n    }\n  });\n  pager.setTotal(50 + Math.floor(Math.random() * 100));\n  $('button').click(function () {\n    var num = 50 + Math.floor(Math.random() * 100);\n    pager.setTotal(num);\n    console.log('当前item个数：', num);\n  });\n}\n\nmodule.exports = {\n  unitTest: run\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./dist/.tmp/modules/testPager/test.js\n ** module id = 2\n ** module chunks = 0\n **/","/**\n * @author zhuyingda\n * @type {{pager: {widget}, mask: {widget}, truncate: {util}, insert: {util}, clip: {util}}}\n */\n\nmodule.exports = {\n  pager: require('./src/pager/pager'),\n  mask: require('./src/mask/mask'),\n  util: {\n    truncate: require('./src/utils/truncate/truncate'),\n    insert: require('./src/utils/insert/insert2cursor'),\n    clip: require('./src/utils/clipboard/copy2clipboard')\n  }\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../index.js\n ** module id = 3\n ** module chunks = 0\n **/","/**\r\n * @widget\r\n * @author zyd\r\n * @version 1.1\r\n * pager   -   分页\r\n * @author yingdazhu@icloud.com\r\n * @git github.com/zhuyingda/zippo-ui\r\n * @module commonJS\r\n * @require pager.less\r\n * @require pager.handlebars\r\n * @require jquery\r\n */\r\n\r\n//require('./pager.less');\r\n\r\nvar\r\n  /**\r\n   * @desc 初始化容器dom元素\r\n   */\r\n  //base = require('./pager_container.handlebars'),\r\n  base = function(){\r\n    var str = '<div class=\"page-box clearfix\"><div class=\"page-btn btn-style prev\" style=\"float: left;\">上一页</div><div class=\"page-wrap\" style=\"float: left;\"></div><div class=\"page-btn btn-style next\" style=\"float: left;\">下一页</div></div>';\r\n    return str;\r\n  },\r\n  /**\r\n   * @desc 当前所在页（从1开始）\r\n   */\r\n  curPage = 1,\r\n\r\n  /**\r\n   * @desc 每页显示评论数\r\n   */\r\n  itemInPage,\r\n\r\n  /**\r\n   * @desc 每页显示的翻页按钮数\r\n   */\r\n  btnInPage,\r\n\r\n  /**\r\n   * @desc 评论总条数\r\n   */\r\n  total = 0;\r\n\r\n/**\r\n * @desc 获取当前页\r\n */\r\nfunction getCurPage() {\r\n  return curPage;\r\n}\r\n\r\n/**\r\n * @desc 设置总条数\r\n */\r\nfunction setTotal(n) {\r\n  total = n;\r\n  core(curPage);\r\n}\r\n\r\n/**\r\n * @desc 排列第pageNum页的按钮列表\r\n * @var begin 当前页从第begin页开始\r\n * @var end 当前页的最后一个按钮的页数\r\n * @var pageLen 总页数\r\n * @var pagerContainer 组件容器\r\n */\r\nfunction core(pageNum) {\r\n  var\r\n    begin,\r\n    end,\r\n    pageLen = Math.ceil(total / itemInPage),\r\n    pagerContainer = $('.page-wrap');\r\n\r\n  begin = beginCal(pageNum, btnInPage, pageLen);\r\n  end = endCal(begin, btnInPage, pageLen);\r\n\r\n  pagerContainer.empty();\r\n  for (var i = begin; i <= end; i++) {\r\n    pagerContainer.append('<div class=\"page-item\" style=\"float: left;cursor: pointer;\">' + i + '</div>');\r\n  }\r\n  for (i = 0; i < $('.page-item').length; i++) {\r\n    if (pageNum == $('.page-item').eq(i).html()) {\r\n      $('.page-item').eq(i).addClass('btn-cur');\r\n    }\r\n  }\r\n\r\n  edgeCheck(pageNum, pageLen);\r\n  curPage = pageNum;\r\n}\r\n\r\n/**\r\n * @desc 计算当前页翻页按钮列表的起始位\r\n */\r\nfunction beginCal(pageNum, btns, pageLen) {\r\n  var mid = Math.round(btns / 2),\r\n    rest = Math.abs(pageLen - pageNum);\r\n  if (pageNum <= mid) {\r\n    return 1;\r\n  } else if (pageNum > mid && rest >= mid) {\r\n    return pageNum - mid + 1;\r\n  } else if (rest < mid) {\r\n    if (pageLen > btns) {\r\n      return pageLen - (btns-1);\r\n    } else {\r\n      return 1;\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * @desc 计算当前页翻页按钮列表的起末位\r\n */\r\nfunction endCal(begin, btns, pageLen) {\r\n  if (btns <= pageLen) {\r\n    return btns + begin - 1;\r\n  } else {\r\n    return pageLen;\r\n  }\r\n}\r\n\r\n/**\r\n * @desc 按钮样式边界处理\r\n */\r\nfunction edgeCheck(pageNum, pageLen) {\r\n  if (pageNum == 1) {\r\n    $('.page-box').addClass('in-first-page').removeClass('in-last-page');\r\n  } else if (pageNum == pageLen) {\r\n    $('.page-box').addClass('in-last-page').removeClass('in-first-page');\r\n  } else {\r\n    $('.page-box').removeClass('in-first-page in-last-page');\r\n  }\r\n}\r\n\r\n/**\r\n * @desc 翻页回调\r\n */\r\nfunction onTurn(cb) {\r\n  $('.next').click(function () {\r\n    if (!$('.page-box').hasClass('in-last-page')) {\r\n      core(++curPage);\r\n      cb(curPage);\r\n    }\r\n  });\r\n  $('.prev').click(function () {\r\n    if (!$('.page-box').hasClass('in-first-page')) {\r\n      core(--curPage);\r\n      cb(curPage);\r\n    }\r\n  });\r\n  $('.page-wrap').on('click', '.page-item', function () {\r\n    core($(this).html());\r\n    cb($(this).html());\r\n  });\r\n}\r\n\r\n/**\r\n * @desc 组件初始化\r\n */\r\nfunction init(opts) {\r\n  var cont = base();\r\n  opts.$el.html(cont);\r\n  btnInPage = opts.btnInPage || 10;\r\n  itemInPage = opts.itemInPage || 10;\r\n  $('.page-item').click(function () {\r\n    $(this).addClass('btn-cur').siblings().removeClass('btn-cur');\r\n  });\r\n  onTurn(opts.onTurn || function () {\r\n      console.log('未绑定翻页回调')\r\n    });\r\n}\r\n\r\nmodule.exports = {\r\n  getCurPage: getCurPage,\r\n  setTotal: setTotal,\r\n  init: init\r\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../src/pager/pager.js\n ** module id = 4\n ** module chunks = 0\n **/","/**\n * @widget\n * @author zyd\n * @version 1.0\n * pager   -   弹层\n * @author yingdazhu@icloud.com\n * @git github.com/zhuyingda/zippo-ui\n * @module commonJS\n * @require jquery\n */\n\nvar\n  /**\n   * @desc 弹层遮罩\n   */\n  maskLayer = '<div style=\"width:100%;height:100%;position:absolute;left:0;top:0;background:#000;opacity:0.4;filter:alpha(opacity=40);z-index:100;\"><iframe src=\"about:blank\" style=\"z-index:-1;width:100%;height:100%\" allowtransparency=\"true\" frameborder=0></iframe></div>',\n\n  /**\n   * @desc 当前弹层层级\n   */\n  baseLevel = 10000,\n\n  /**\n   * @desc 当前弹层层级\n   */\n  maskId = 0,\n\n  /**\n   * @desc 弹层管理器\n   */\n  manager = {};\n\n/**\n * @desc 初始化\n */\nfunction init(tpl, options, id) {\n  baseLevel++;\n  var html =\n    '<div id=\"mask_' + maskId + '\" ' +\n    'style=\"visibility: hidden;' +\n    'position: absolute; ' +\n    'top: 0px;' +\n    'left: 0px; ' +\n    'z-index: ' + baseLevel + ';' +\n    'width: 100%;' +\n    'height: 100%;\">' + maskLayer +\n    '<div class=\"tpl_wrapper\" style=\"position: absolute;' +\n    'z-index: 200;' +\n    'left: 50%;' +\n    'top: 50%;\">' + tpl.trim() +\n    '</div></div>';\n  $('body').append(html);\n}\n\n/**\n * @desc 抖动\n */\nfunction shake(id) {\n  if (manager[id].lock) {\n    return;\n  }\n  manager[id].lock = true;\n  var layer = $('#' + id + ' .tpl_wrapper');\n  var curPos = parseInt(layer.css('left'));\n  var freq = 50;\n  var swing = 5;\n  var t = setInterval(function () {\n    curPos += swing;\n    layer.animate({left: curPos + 'px'}, freq / 4, 'swing', function () {\n      curPos -= swing * 2;\n      layer.animate({left: curPos + 'px'}, freq / 2, 'swing', function () {\n        curPos += swing;\n        swing--;\n        layer.animate({left: curPos + 'px'}, freq / 2);\n        if (swing == 0) {\n          clearInterval(t);\n          manager[id].lock = false;\n        }\n      });\n    });\n  }, freq + 20);\n}\n\n/**\n * @desc 关闭\n */\nfunction close(id, options) {\n  var layerWrap = $('#' + id);\n  if (!options.hasAnimation) {\n    layerWrap.hide();\n    layerWrap.remove();\n  }\n  if (options.animation == 'fade') {\n    layerWrap.fadeOut(400, function () {\n      layerWrap.remove();\n    });\n  }\n  baseLevel--;\n  manager[id] = null;\n  manager[id] = undefined;\n}\n\n/**\n * @desc 展现一个弹层\n */\nfunction showMask(tpl, options) {\n  maskId++;\n  var id = 'mask_' + maskId;\n  var opt = optionFilter(options);\n  init(tpl, opt, id);\n  fixPosition(opt, id);\n  var layerWrap = $('#' + id);\n  manager[id] = {\n    $dom: layerWrap,\n    lock: false\n  };\n  if (!opt.hasAnimation) {\n    layerWrap.show();\n  }\n  if (opt.animation == 'fade') {\n    layerWrap.fadeIn();\n  }\n  return {\n    'shake': function () {\n      shake(id);\n    },\n    'close': function () {\n      close(id, options);\n    }\n  }\n}\n\nfunction fixPosition(options, id){\n  if (!options.top) {\n    $('#' + id + ' .tpl_wrapper').css({\n      'margin-top': '-' + $('.tpl_wrapper').height() / 2 + 'px'\n    });\n  }\n  if (!options.left) {\n    $('#' + id + ' .tpl_wrapper').css({\n      'margin-left': '-' + $('.tpl_wrapper').width() / 2 + 'px'\n    });\n  }\n  $('#' + id).css({display:'none',visibility:'inherit'})\n}\n\n/**\n * @desc 过滤器\n */\nfunction optionFilter(o) {\n  var opt = {};\n  opt.hasAnimation = o.animation ? true : false;\n  return $.extend(o, opt);\n}\n\nfunction maskList() {\n  return manager;\n}\n\nmodule.exports = {\n  showMask: showMask,\n  maskList: maskList\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../src/mask/mask.js\n ** module id = 5\n ** module chunks = 0\n **/","/**\r\n * @util\r\n * @author zyd\r\n * @version 1.0\r\n * truncate   -   字长限制器\r\n * @author yingdazhu@icloud.com\r\n * @git github.com/zhuyingda/zippo\r\n * @module commonJS\r\n * @desc 根据配置识别中英文，按长度截取字符串，兼容ie6\r\n * @param {string} str 待切割字符\r\n * @param {number} len 长度限制，以英文或半角符号为1个单位长度，中文占2个\r\n */\r\n\r\nfunction index(str, len) {\r\n  str = isStr(str);\r\n  var weight = 0,\r\n    tmp = '',\r\n    i=0;\r\n  while(weight <= len && i < str.length){\r\n    tmp += str.charAt(i);\r\n    if(isZh(str.charAt(i))){\r\n      weight += 2;\r\n    }else{\r\n      weight += 1;\r\n    }\r\n    i++;\r\n  }\r\n  if(tmp.length < str.length){\r\n    tmp += '…';\r\n  }\r\n  return tmp;\r\n}\r\n\r\nfunction isStr(str){\r\n  if(str == undefined || str == '' || str == null || !str.toString()){\r\n    str = '-';\r\n  }else{\r\n    str = str.toString();\r\n  }\r\n  return str;\r\n}\r\n\r\nfunction isZh(token) {\r\n  if(token.charCodeAt(0) > 128){\r\n    return true;\r\n  }else{\r\n    return false;\r\n  }\r\n}\r\n\r\nmodule.exports = {\r\n  exec: index\r\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../src/utils/truncate/truncate.js\n ** module id = 6\n ** module chunks = 0\n **/","/**\n * @util\n * insert2cursor   -   input/textarea内容插入\n * @module commonJS\n * @desc 将字符串插入到input/textarea光标所在位置，兼容ie6\n * @param {elem} field 原生input/textarea标签元素对象\n * @param {string} val 需要插入的内容\n */\n\nfunction index(field, val) {\n  if (document.selection) {\n    field.focus();\n    sel.text = val;\n    sel.select();\n  } else if (field.selectionStart || field.selectionStart == '0') {\n    var startPos = field.selectionStart;\n    var endPos = field.selectionEnd;\n    var restoreTop = field.scrollTop;\n    field.value = field.value.substring(0, startPos) + val + field.value.substring(endPos, field.value.length);\n    if (restoreTop > 0) {\n      field.scrollTop = restoreTop;\n    }\n    field.focus();\n    field.selectionStart = startPos + val.length;\n    field.selectionEnd = startPos + val.length;\n  } else {\n    field.value += val;\n    field.focus();\n  }\n}\n\nmodule.exports = {\n  exec: index\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../src/utils/insert/insert2cursor.js\n ** module id = 7\n ** module chunks = 0\n **/","/**\n * @util\n * copy2clipboard   -   将字符串复制到剪贴板\n * @module commonJS\n * @desc 将字符串复制到系统剪贴板，兼容ie6，webkit、FF浏览器需要安装插件\n * @param {string} maintext 需要复制的字符串\n */\n\nfunction copyToClipboard(maintext) {\n  if (window.clipboardData) {\n    window.clipboardData.setData(\"Text\", maintext);\n  } else if (window.netscape) {\n    try {\n      netscape.security.PrivilegeManager.enablePrivilege(\"UniversalXPConnect\");\n    } catch (e) {\n      alert(\"该浏览器不支持一键复制！\\n请手工复制文本框链接地址～\");\n    }\n\n    var clip = Components.classes['@mozilla.org/widget/clipboard;1'].createInstance(Components.interfaces.nsIClipboard);\n    if (!clip) return;\n    var trans = Components.classes['@mozilla.org/widget/transferable;1'].createInstance(Components.interfaces.nsITransferable);\n    if (!trans) return;\n    trans.addDataFlavor('text/unicode');\n    var str = new Object();\n    var len = new Object();\n    var str = Components.classes[\"@mozilla.org/supports-string;1\"].createInstance(Components.interfaces.nsISupportsString);\n    var copytext = maintext;\n    str.data = copytext;\n    trans.setTransferData(\"text/unicode\", str, copytext.length * 2);\n    var clipid = Components.interfaces.nsIClipboard;\n    if (!clip) return false;\n    clip.setData(trans, null, clipid.kGlobalClipboard);\n    alert(\"以下内容已经复制到剪贴板\\n\\n\" + maintext);\n  }\n  alert(\"该浏览器不支持一键复制！\\n请手工复制文本框链接地址～\");\n}\n\nmodule.exports = {\n  exec: copyToClipboard\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../src/utils/clipboard/copy2clipboard.js\n ** module id = 8\n ** module chunks = 0\n **/"],"sourceRoot":""}